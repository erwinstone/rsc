#!/usr/bin/env node
const{join:e}=require('node:path'),{spawn:r}=require('node:child_process'),{scripts:s}=require(e(process.cwd(),'package.json'));process.stdout.write('win32'===process.platform?'[2J[0f':'[2J[3J[H');const o=process.argv.filter((e,r)=>0!==r&&1!==r),t=Object.fromEntries(Object.entries(s).filter(([e])=>o.includes(e)));async function i(){const e=[];for(const s in t)e.push(new Promise((e,o)=>{const[i,...c]=t[s].split(' ');r(i,c,{shell:!0,stdio:'inherit'}).on('close',r=>{0!==r?o(new Error(`Script "${s}" failed with exit code ${r}`)):e()})}));try{await Promise.all(e)}catch(e){console.error(e)}}i();